import{a as R}from"./chunk-UTBJETCB.js";import{a as I}from"./chunk-XLSQ4JDL.js";import{b as T}from"./chunk-CRNNH4GY.js";import"./chunk-6VVBVPFE.js";import"./chunk-P6KFG34U.js";import"./chunk-KMUZPL3V.js";import"./chunk-VNWZKHP3.js";import"./chunk-KQUAVRFU.js";import"./chunk-WXWXYMIB.js";import{a as V}from"./chunk-C73HAMVH.js";import{k}from"./chunk-6WQU6EZD.js";import{k as E}from"./chunk-ISIAGV3U.js";import{Ab as y,Eb as b,Fb as O,Gb as w,Hb as f,Ib as l,Jb as x,Oa as M,Ra as c,_,ab as S,ea as p,fa as g,fb as P,nb as u,qa as h,tb as n,ub as i,vb as v,yb as C,zb as m}from"./chunk-7YWQNTIB.js";var F=["featuredSlider"];function L(a,e){if(a&1){let t=C();n(0,"div",9),m("click",function(){let o=p(t).$implicit,s=y();return g(s.openProduct(o._id))}),v(1,"img",10),n(2,"p"),l(3),i()()}if(a&2){let t=e.$implicit;c(),u("src",t.imageCover,M)("alt",t.title),c(2),x(t.title)}}function z(a,e){if(a&1){let t=C();n(0,"div",9),m("click",function(){let o=p(t).$implicit,s=y();return g(s.openCategory(o._id))}),v(1,"img",10),n(2,"p"),l(3),i()()}if(a&2){let t=e.$implicit;c(),u("src",t.image,M)("alt",t.name),c(2),x(t.name)}}var A=class a{products=[];categories=[];allProducts=[];featuredSlider;autoScrollInterval;productService=_(T);categoryService=_(R);loader=_(V);router=_(k);ngOnInit(){this.loadProducts(),this.loadCategories()}ngAfterViewInit(){this.startAutoScroll()}ngOnDestroy(){this.autoScrollInterval&&clearInterval(this.autoScrollInterval)}loadProducts(){this.loader.show(),this.productService.getAllProducts().subscribe({next:e=>{this.allProducts=e.data,this.products=[...e.data].sort(()=>.5-Math.random()).slice(0,10),this.loader.hide()},error:e=>{console.error("Error loading products:",e),this.loader.hide()}})}loadCategories(){this.categoryService.GetAllCategories().subscribe({next:e=>{this.categories=e.data},error:e=>console.error("Error loading categories:",e)})}openProduct(e){this.router.navigate(["/products-details",e])}openCategory(e){this.router.navigate(["/category",e])}scrollLeft(e){(e instanceof h?e.nativeElement:e).scrollBy({left:-200,behavior:"smooth"})}scrollRight(e){(e instanceof h?e.nativeElement:e).scrollBy({left:200,behavior:"smooth"})}startAutoScroll(){this.featuredSlider&&(this.autoScrollInterval=setInterval(()=>{this.scrollRight(this.featuredSlider)},3e3))}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=S({type:a,selectors:[["app-mainpage"]],viewQuery:function(t,r){if(t&1&&b(F,5),t&2){let o;O(o=w())&&(r.featuredSlider=o.first)}},decls:24,vars:3,consts:[["featuredSlider",""],["categorySlider",""],[1,"landing-container"],[1,"slider-wrapper"],[1,"scroll-btn","left",3,"click"],[1,"slider"],["class","slide",3,"click",4,"ngFor","ngForOf"],[1,"scroll-btn","right",3,"click"],[3,"products"],[1,"slide",3,"click"],[3,"src","alt"]],template:function(t,r){if(t&1){let o=C();n(0,"div",2)(1,"h2"),l(2,"Featured Products"),i(),n(3,"div",3)(4,"button",4),m("click",function(){p(o);let d=f(7);return g(r.scrollLeft(d))}),l(5,"\u2039"),i(),n(6,"div",5,0),P(8,L,4,3,"div",6),i(),n(9,"button",7),m("click",function(){p(o);let d=f(7);return g(r.scrollRight(d))}),l(10,"\u203A"),i()(),n(11,"h2"),l(12,"Shop by Category"),i(),n(13,"div",3)(14,"button",4),m("click",function(){p(o);let d=f(17);return g(r.scrollLeft(d))}),l(15,"\u2039"),i(),n(16,"div",5,1),P(18,z,4,3,"div",6),i(),n(19,"button",7),m("click",function(){p(o);let d=f(17);return g(r.scrollRight(d))}),l(20,"\u203A"),i()(),n(21,"h2"),l(22,"All Products"),i(),v(23,"app-productsgird",8),i()}t&2&&(c(8),u("ngForOf",r.products),c(10),u("ngForOf",r.categories),c(5),u("products",r.allProducts))},dependencies:[E,I],styles:[".landing-container[_ngcontent-%COMP%]{padding:40px 20px}.landing-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:40px 0 20px;font-size:1.8rem}.landing-container[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;margin-bottom:40px}.landing-container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:20px;scroll-snap-type:x mandatory;padding-bottom:10px;margin-bottom:20px;scroll-behavior:smooth;-ms-overflow-style:none;scrollbar-width:none}.landing-container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.landing-container[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{flex:0 0 auto;width:200px;scroll-snap-align:start;cursor:pointer;text-align:center;border-radius:12px;overflow:hidden;box-shadow:0 4px 10px #0000001a;transition:transform .2s ease}.landing-container[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.landing-container[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;display:block}.landing-container[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-weight:500}.landing-container[_ngcontent-%COMP%]   .scroll-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:transparent;border:none;font-size:48px;cursor:pointer;color:#28a745;font-weight:700;display:flex;align-items:center;justify-content:center;z-index:10}.landing-container[_ngcontent-%COMP%]   .scroll-btn.left[_ngcontent-%COMP%]{left:10px}.landing-container[_ngcontent-%COMP%]   .scroll-btn.right[_ngcontent-%COMP%]{right:10px}.landing-container[_ngcontent-%COMP%]   .scroll-btn[_ngcontent-%COMP%]:hover{color:#218838}"]})};export{A as MainpageComponent};
