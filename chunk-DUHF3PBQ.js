import{a as E}from"./chunk-LQJKD4GC.js";import"./chunk-WXWXYMIB.js";import{a as j}from"./chunk-WIDR5GSO.js";import{c as P,d as S,f as M,s as D,z as k}from"./chunk-RMQVJLYB.js";import{$a as m,Ab as c,Bb as w,Cb as x,Ja as u,Ma as r,Ra as h,Wa as C,X as I,ba as g,ca as p,hb as s,ib as y,nb as n,ob as o,pb as v,qb as O,rb as b,sb as f,tb as _,ub as a}from"./chunk-AGOSMD2F.js";function V(t,i){if(t&1){let e=f();n(0,"div",16)(1,"mat-icon",17),_("click",function(){g(e);let d=a(2);return p(d.isZoomed=!1)}),c(2,"close"),o(),v(3,"img",18),o()}if(t&2){let e=a(2);r(3),s("src",e.images[e.currentImage],u)}}function F(t,i){if(t&1&&v(0,"img",20),t&2){let e=a().$implicit,l=a(2);y("slide-in",l.slidingIn)("slide-out",l.slidingOut),s("src",e,u)}}function L(t,i){if(t&1&&(O(0),m(1,F,1,5,"img",19),b()),t&2){let e=i.index,l=a(2);r(),s("ngIf",e===l.currentImage)}}function A(t,i){if(t&1){let e=f();n(0,"img",23),_("click",function(){let d=g(e).index,z=a(3);return p(z.selectImage(d))}),o()}if(t&2){let e=i.$implicit;s("src",e,u)}}function Z(t,i){if(t&1&&(n(0,"div",21),m(1,A,1,1,"img",22),o()),t&2){let e=a(2);r(),s("ngForOf",e.images)}}function N(t,i){if(t&1){let e=f();n(0,"section"),m(1,V,4,1,"div",1),n(2,"div",2)(3,"div",3),m(4,L,2,1,"ng-container",4),n(5,"mat-icon",5),_("click",function(){g(e);let d=a();return p(d.Zoomin(d.currentImage))}),c(6,"zoom_in"),o()(),n(7,"div",6),m(8,Z,2,1,"div",7),n(9,"h1",8),c(10),o(),n(11,"h3"),c(12),o(),n(13,"div",9)(14,"h3"),c(15),o(),n(16,"div",10)(17,"h3"),c(18),o(),n(19,"mat-icon",11),c(20,"star"),o()()(),n(21,"div",12)(22,"button",13)(23,"a",14),c(24,"Add +"),o()(),n(25,"button",15)(26,"a",14)(27,"mat-icon"),c(28,"favorite"),o()()()()()()()}if(t&2){let e=a();r(),s("ngIf",e.isZoomed),r(3),s("ngForOf",e.images),r(4),s("ngIf",e.images.length>0),r(2),x(" ",e.product.title," "),r(2),x(" ",e.product.description," "),r(3),x("",e.product.price," EGP"),r(3),w(e.product.ratingsAverage)}}var T=class t{constructor(i,e){this.route=i;this.productService=e;this.productId=this.route.snapshot.paramMap.get("id"),console.log("Selected product id:",this.productId)}productId;product;images=[];currentImage=0;Loading=!0;slidingIn=!1;isZoomed=!1;slidingOut=!1;loader=I(k);ngOnInit(){this.route.paramMap.subscribe(i=>{let e=i.get("id");e&&(this.productId=e,this.loadProduct(e))})}Zoomin(i){this.isZoomed=!0}selectImage(i){i!==this.currentImage&&(this.slidingIn=!1,this.slidingOut=!0,setTimeout(()=>{this.currentImage=i,this.slidingOut=!1,this.slidingIn=!0,setTimeout(()=>{this.slidingIn=!1},500)},500))}newImage(){this.slidingIn=!1,this.slidingOut=!0,setTimeout(()=>{this.currentImage++,this.currentImage>=this.images.length&&(this.currentImage=0),this.slidingOut=!1,this.slidingIn=!0,setTimeout(()=>{this.slidingIn=!1},500)},500)}loadProduct(i){this.loader.show(),this.productService.getProductId(i).subscribe({next:e=>{this.Loading=!0,console.log(e.data),this.product=e.data,this.images=this.product.images,this.Loading=!1,this.currentImage=0,console.log(this.images),this.loader.hide()},error:e=>{window.alert("COULDNT LOAD PAGE"),this.loader.hide()}})}static \u0275fac=function(e){return new(e||t)(h(D),h(E))};static \u0275cmp=C({type:t,selectors:[["app-details"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","zoomed  fixed inset-0 flex justify-center items-center",4,"ngIf"],[1,"details","flex","flex-col","lg:flex-row","lg:justify-center","lg:items-center","gap-8","mt-5"],[1,"imgcont","flex","justify-center","text-center","relative"],[4,"ngFor","ngForOf"],[1,"zoom","absolute","top-4","right-32","lg:right-3","cursor-pointer","text-lg",3,"click"],[1,"alldis","flex","flex-col","gap-8","justify-center","self-center","text-left"],["class","flex gap-2 justify-center items-center mb-5 mt-5",4,"ngIf"],[1,"title"],[1,"flex","flex-row","gap-5"],[1,"flex","flex-row","ml-auto","flex-end"],[1,"text-yellow-300","star"],[1,"flex","flex-row","justify-center","items-center","gap-3"],[1,"bt","justify-center","text-center","align-middle","items-center","p-5"],["href","/"],[1,""],[1,"zoomed","fixed","inset-0","flex","justify-center","items-center"],[1,"text-lg","absolute","top-2","right-3","cursor-pointer",3,"click"],[1,"max-h-full","max-w-full","object-contain",3,"src"],["class","h-80 image align-middle items-center",3,"src","slide-in","slide-out",4,"ngIf"],[1,"h-80","image","align-middle","items-center",3,"src"],[1,"flex","gap-2","justify-center","items-center","mb-5","mt-5"],["class","tinyimages w-16 h-16 object-cover cursor-pointer border-2 border-gray-400 rounded",3,"src","click",4,"ngFor","ngForOf"],[1,"tinyimages","w-16","h-16","object-cover","cursor-pointer","border-2","border-gray-400","rounded",3,"click","src"]],template:function(e,l){e&1&&m(0,N,29,7,"section",0),e&2&&s("ngIf",!l.Loading)},dependencies:[j,S,P,M],styles:[".star[_ngcontent-%COMP%]{color:#daa520}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:400}.category[_ngcontent-%COMP%]{color:var(--main-color);margin-bottom:10px}.bt[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;background-color:#0aad0a;border-radius:10px;width:150px;padding:10px 20px}.imgcont[_ngcontent-%COMP%]{overflow:hidden}.image[_ngcontent-%COMP%]{object-fit:cover;will-change:transform,opacity;display:block}.image.slide-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideOut .5s ease-in-out forwards}.image.slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_slideOut{0%{transform:translate(0);opacity:1}to{transform:translate(-100%);opacity:0}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.zoom[_ngcontent-%COMP%]{color:#0aad0a;font-size:30px}.zoomed[_ngcontent-%COMP%]{background-color:#a9efb6;z-index:10000}"]})};export{T as DetailsComponent};
